<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <form id="data">
        <div class="main">
            <label>All</label>
            <input type="checkbox" onclick="myParent(this)" id="all" />
            <div class="first">
                <label>Checkbox1</label>
                <input type="checkbox" id="first" onclick="myParent(this)" />

                <div>
                    <input type="checkbox" class="first1" />
                </div>
                <div>
                    <input type="checkbox" class="first1" />
                </div>
                <div>
                    <input type="checkbox" class="first1" />
                </div>
                <div>
                    <input type="checkbox" class="first1" />
                </div>


            </div>

            <div class="secound">
                <label>Checkbox2</label>
                <input type="checkbox" id="secund" onclick="myParent(this)" />

                <div>
                    <input type="checkbox" class="secund2" onclick="myParent(this)" />
                </div>
                <div>
                    <input type="checkbox" class="secund2" />
                </div>
                <div>
                    <input type="checkbox" class="secund2" />
                </div>
                <div>
                    <input type="checkbox" id="myBtn" class="secund2" />
                </div>

            </div>
        </div>
    </form>
</body>
<script>
        let allBox = document.querySelectorAll("input[type='checkbox']");
    
    function myParent(element) {
        let d = element.parentElement.querySelectorAll("input[type='checkbox']");
        for (let i = 0; i < d.length; i++) {
            if (element.checked == true) {
                d[i].checked = true;
            }
            else {
                d[i].checked = false;
            }   
        }    
        for(let i=0;i<d.length;i++){
            d[i].addEventListener('click',function(){
                if(d[i].checked == false)
                {
                    d[i].checked == false;
                }
                
            })
        }

    }


            
    
</script>

</html>